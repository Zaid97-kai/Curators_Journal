@using CuratorMagazineWebAPI.Models.Entities.Domains
@using WebClient.Data.Services

<div class="row mt-3 group rounded">
    <div class="col-md-1">
        <img class="rounded img-fluid mt-1" src="../img/no-img.jpg" alt="">
    </div>
    <div class="col-md-8 mt-1">
        <h5><a class="text-dark" style="text-decoration: none;">@Group.Name</a></h5>
        
        <p ></p>
        @*Пометка придумать как достать куратора*@

    </div>
    <div class="col-md-3 text-end">
        <button type="button" class="btn btn-secondary me-2" @onclick="ShowModalChangeGroupWindow">Изменить</button>
        <button type="button" class="btn btn-secondary">Удалить</button>
    </div>
    <hr class="mb-0 mt-0">
</div>
@if (IsVisibleModalChangeGroupWindow)
{

    <ChangeGroupModalWindow Visible="IsVisibleModalChangeGroupWindow" Group="Group"></ChangeGroupModalWindow>
}

@code {
    [Parameter]
    public Group? Group { get; set; }

    [Inject]
    public GroupService? GroupService { get; set; }

    public User? User => GroupService?.GetGroupCuratorAsync(Group!.Id).Result.Result;

    private bool IsVisibleModalChangeGroupWindow { get; set; }

    public void ShowModalChangeGroupWindow()
    {
        IsVisibleModalChangeGroupWindow = !IsVisibleModalChangeGroupWindow;
    }
}
