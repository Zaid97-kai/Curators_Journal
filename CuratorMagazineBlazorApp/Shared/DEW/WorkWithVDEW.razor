@using CuratorMagazineBlazorApp.Data.Services
@using CuratorMagazineBlazorApp.Shared.ModalWindows
@using CuratorMagazineWebAPI.Models.Entities.Domains

<div class="container my-4 bg-secondary bg-opacity-50">
    <div class="container-fluid">
        <BodySearchBar></BodySearchBar>
        <div class="overflow-auto container">
            @if(CurrentUser != null)
            {
                @if (_users == null || _users.Count == 0)
                {
                    <div class="row">
                        <div class="col-12">
                            <p><em>Loading...</em></p>
                        </div>
                    </div>
                    
                }
                else{
                    foreach (var item in _users)
                    {
                        @*if (item.Division?.Name == CurrentUser.Division?.Name && item.Role?.Name == "Deputy Director")
                        {*@
                            <IndividualVDEW _vdew="@item" DeleteVDEW="@DeleteVDEW"></IndividualVDEW>
                        @*}*@
                    }
                }
            }
            else
            {
                //ChangeOnDefaultStateRoleNavBar();
            }
        </div>
        <div class="row">
            <div class="row-md text-center mb-2">
                <hr>
                <button type="button" class="btn btn-secondary" @onclick="ModalAddVdewWindow">Добавить</button>
                @if (IsVisibleModalAddVdewWindow)
                {
                    <AddVDEWModalWindow Visible="IsVisibleModalAddVdewWindow"></AddVDEWModalWindow>
                }
            </div>
        </div>
    </div>
</div>
            
